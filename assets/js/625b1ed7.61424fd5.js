"use strict";(self.webpackChunkmerit_api_docs=self.webpackChunkmerit_api_docs||[]).push([[1831],{15159:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"authentication","title":"Authentication","description":"The Merit LMS API uses a centralized authentication system through the Merit Identity Service to secure all requests. This guide explains how authentication works and how to manage your API keys.","source":"@site/docs/authentication.md","sourceDirName":".","slug":"/authentication","permalink":"/merit-api-docs/docs/authentication","draft":false,"unlisted":false,"editUrl":"https://github.com/umersaleem90/merit-api-docs/tree/main/docs/authentication.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Quick Start","permalink":"/merit-api-docs/docs/quick-start"}}');var t=i(74848),r=i(28453);const a={sidebar_position:2},l="Authentication",c={},d=[{value:"Overview",id:"overview",level:2},{value:"Authentication Architecture",id:"authentication-architecture",level:2},{value:"Merit Identity Service",id:"merit-identity-service",level:3},{value:"Authentication Flow",id:"authentication-flow",level:3},{value:"API Key Authentication",id:"api-key-authentication",level:2},{value:"Header Format",id:"header-format",level:3},{value:"Alternative: x-api-key Header",id:"alternative-x-api-key-header",level:3},{value:"Example Request",id:"example-request",level:3},{value:"Getting Your API Key",id:"getting-your-api-key",level:2},{value:"For Administrators",id:"for-administrators",level:3},{value:"For Developers",id:"for-developers",level:3},{value:"API Key Management",id:"api-key-management",level:2},{value:"Key Properties",id:"key-properties",level:3},{value:"Security Best Practices",id:"security-best-practices",level:3},{value:"Error Responses",id:"error-responses",level:2},{value:"Invalid API Key",id:"invalid-api-key",level:3},{value:"Expired API Key",id:"expired-api-key",level:3},{value:"Missing API Key",id:"missing-api-key",level:3},{value:"Insufficient Permissions",id:"insufficient-permissions",level:3},{value:"Code Examples",id:"code-examples",level:2},{value:"JavaScript/Node.js",id:"javascriptnodejs",level:3},{value:"Python",id:"python",level:3},{value:"cURL",id:"curl",level:3},{value:"Rate Limiting",id:"rate-limiting",level:2},{value:"Rate Limit Headers",id:"rate-limit-headers",level:3},{value:"Testing Authentication",id:"testing-authentication",level:2},{value:"Identity Service Integration",id:"identity-service-integration",level:2},{value:"How It Works",id:"how-it-works",level:3},{value:"Benefits",id:"benefits",level:3},{value:"What&#39;s Next?",id:"whats-next",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"authentication",children:"Authentication"})}),"\n",(0,t.jsxs)(n.p,{children:["The Merit LMS API uses a centralized authentication system through the ",(0,t.jsx)(n.strong,{children:"Merit Identity Service"})," to secure all requests. This guide explains how authentication works and how to manage your API keys."]}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:["All API requests to the Merit LMS Service are authenticated through the ",(0,t.jsx)(n.strong,{children:"Merit Identity Service"}),", which handles all authentication, authorization, and role-based access control. The Identity Service validates Bearer tokens and API keys before allowing access to LMS resources."]}),"\n",(0,t.jsx)(n.h2,{id:"authentication-architecture",children:"Authentication Architecture"}),"\n",(0,t.jsx)(n.h3,{id:"merit-identity-service",children:"Merit Identity Service"}),"\n",(0,t.jsx)(n.p,{children:"The Merit Identity Service is a centralized authentication and authorization service that:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validates Bearer Tokens"}),": All JWT Bearer tokens are verified and validated"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Manages API Keys"}),": Validates x-api-key headers for specific endpoints"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Role-Based Access Control"}),": Enforces permissions and role-based access"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Tenant Isolation"}),": Ensures proper tenant-level access control"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Security Policies"}),": Applies security policies and rate limiting"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Identity Service URL"}),": ",(0,t.jsx)(n.code,{children:"https://develop-backend-idp-app-898785615088.us-central1.run.app"})]}),"\n",(0,t.jsx)(n.h3,{id:"authentication-flow",children:"Authentication Flow"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Client Request"}),": Your application sends a request to the Merit LMS API"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Identity Service Validation"}),": The LMS Service forwards authentication to the Identity Service"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Token/Key Verification"}),": The Identity Service validates the Bearer token or API key"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Permission Check"}),": Role-based permissions are verified"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Request Processing"}),": If authentication succeeds, the LMS Service processes your request"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"api-key-authentication",children:"API Key Authentication"}),"\n",(0,t.jsx)(n.h3,{id:"header-format",children:"Header Format"}),"\n",(0,t.jsxs)(n.p,{children:["Include your API key in the ",(0,t.jsx)(n.code,{children:"Authorization"})," header using the Bearer token format:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"Authorization: Bearer YOUR_API_KEY_HERE\n"})}),"\n",(0,t.jsx)(n.h3,{id:"alternative-x-api-key-header",children:"Alternative: x-api-key Header"}),"\n",(0,t.jsxs)(n.p,{children:["For specific endpoints that support direct API key authentication, you can use the ",(0,t.jsx)(n.code,{children:"x-api-key"})," header:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"x-api-key: YOUR_API_KEY_HERE\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-request",children:"Example Request"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X GET "https://develop-backend-lms-app-898785615088.us-central1.run.app/tenants/{tenant_id}/members" \\\n  -H "Authorization: Bearer your-api-key-here" \\\n  -H "Content-Type: application/json"\n'})}),"\n",(0,t.jsx)(n.h2,{id:"getting-your-api-key",children:"Getting Your API Key"}),"\n",(0,t.jsx)(n.h3,{id:"for-administrators",children:"For Administrators"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Access the Admin Panel"})," - Log into your Merit LMS admin dashboard"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Navigate to API Keys"})," - Go to Settings \u2192 API Keys"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Generate New Key"}),' - Click "Generate New API Key"']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Copy the Key"})," - Save the generated key securely"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"for-developers",children:"For Developers"}),"\n",(0,t.jsx)(n.p,{children:"Contact your system administrator to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Get access to the admin panel"}),"\n",(0,t.jsx)(n.li,{children:"Generate an API key for your development environment"}),"\n",(0,t.jsx)(n.li,{children:"Set appropriate permissions and expiry dates"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"api-key-management",children:"API Key Management"}),"\n",(0,t.jsx)(n.h3,{id:"key-properties",children:"Key Properties"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Tenant-Specific"}),": Each API key belongs to a specific tenant"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scoped Access"}),": Keys provide access to all resources within the tenant"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Expiry Support"}),": Keys can have optional expiration dates"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Revocation"}),": Keys can be revoked at any time"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Identity Service Managed"}),": All key validation is handled by the Identity Service"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"security-best-practices",children:"Security Best Practices"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Keep Keys Secure"})," - Never commit API keys to version control"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use Environment Variables"})," - Store keys in environment variables"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Rotate Regularly"})," - Generate new keys periodically"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Monitor Usage"})," - Track API key usage for security"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Revoke Unused Keys"})," - Remove keys that are no longer needed"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"error-responses",children:"Error Responses"}),"\n",(0,t.jsx)(n.h3,{id:"invalid-api-key",children:"Invalid API Key"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Unauthorized",\n  "message": "Invalid or missing API key",\n  "statusCode": 401\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"expired-api-key",children:"Expired API Key"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Unauthorized",\n  "message": "API key has expired",\n  "statusCode": 401\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"missing-api-key",children:"Missing API Key"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Unauthorized",\n  "message": "API key is required",\n  "statusCode": 401\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"insufficient-permissions",children:"Insufficient Permissions"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Forbidden",\n  "message": "Insufficient permissions for this operation",\n  "statusCode": 403\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,t.jsx)(n.h3,{id:"javascriptnodejs",children:"JavaScript/Node.js"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const axios = require('axios');\n\nconst apiKey = process.env.MERIT_API_KEY;\nconst baseURL = 'https://develop-backend-lms-app-898785615088.us-central1.run.app';\n\nconst api = axios.create({\n  baseURL,\n  headers: {\n    'Authorization': `Bearer ${apiKey}`,\n    'Content-Type': 'application/json'\n  }\n});\n\n// Example: Get members\nconst getMembers = async (tenantId) => {\n  try {\n    const response = await api.get(`/tenants/${tenantId}/members`);\n    return response.data;\n  } catch (error) {\n    console.error('API Error:', error.response?.data);\n    throw error;\n  }\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import requests\nimport os\n\napi_key = os.getenv('MERIT_API_KEY')\nbase_url = 'https://develop-backend-lms-app-898785615088.us-central1.run.app'\n\nheaders = {\n    'Authorization': f'Bearer {api_key}',\n    'Content-Type': 'application/json'\n}\n\n# Example: Get members\ndef get_members(tenant_id):\n    try:\n        response = requests.get(\n            f'{base_url}/tenants/{tenant_id}/members',\n            headers=headers\n        )\n        response.raise_for_status()\n        return response.json()\n    except requests.exceptions.RequestException as e:\n        print(f'API Error: {e}')\n        raise\n"})}),"\n",(0,t.jsx)(n.h3,{id:"curl",children:"cURL"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Set your API key as an environment variable\nexport MERIT_API_KEY="your-api-key-here"\n\n# Example: Get members\ncurl -X GET \\\n  "https://develop-backend-lms-app-898785615088.us-central1.run.app/tenants/{tenant_id}/members" \\\n  -H "Authorization: Bearer $MERIT_API_KEY" \\\n  -H "Content-Type: application/json"\n'})}),"\n",(0,t.jsx)(n.h2,{id:"rate-limiting",children:"Rate Limiting"}),"\n",(0,t.jsx)(n.p,{children:"API requests are rate-limited per tenant to ensure fair usage:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Rate Limit"}),": 1000 requests per minute per tenant"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Headers"}),": Rate limit information is included in response headers"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Exceeded"}),": Returns 429 Too Many Requests when limit is exceeded"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"rate-limit-headers",children:"Rate Limit Headers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"X-RateLimit-Limit: 1000\nX-RateLimit-Remaining: 999\nX-RateLimit-Reset: 1640995200\n"})}),"\n",(0,t.jsx)(n.h2,{id:"testing-authentication",children:"Testing Authentication"}),"\n",(0,t.jsx)(n.p,{children:"You can test your API key using the health check endpoint:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X GET \\\n  "https://develop-backend-lms-app-898785615088.us-central1.run.app/tenants/{tenant_id}/me" \\\n  -H "Authorization: Bearer YOUR_API_KEY"\n'})}),"\n",(0,t.jsx)(n.p,{children:"A successful response indicates your API key is valid:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "id": "tenant-uuid",\n  "name": "Your Tenant Name",\n  "created_at": "2024-01-01T00:00:00Z",\n  "updated_at": "2024-01-01T00:00:00Z"\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"identity-service-integration",children:"Identity Service Integration"}),"\n",(0,t.jsx)(n.h3,{id:"how-it-works",children:"How It Works"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Request Interception"}),": When a request reaches the LMS Service, it's intercepted for authentication"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Identity Service Call"}),": The LMS Service calls the Identity Service to validate credentials"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Permission Validation"}),": The Identity Service checks user roles and permissions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Response"}),": If valid, the request proceeds; if invalid, an error is returned"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"benefits",children:"Benefits"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Centralized Security"}),": All authentication logic is centralized"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Consistent Policies"}),": Uniform security policies across all services"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scalable"}),": Identity Service can handle authentication for multiple services"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Audit Trail"}),": Comprehensive logging of all authentication events"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"whats-next",children:"What's Next?"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"./quick-start",children:"Quick Start Guide"})})," - Get up and running with your first API calls"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/lms-v1-0/merit-lms-alpha-api",children:"API Reference (v1.0)"})})," - Explore all available endpoints"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/lms-valpha/merit-lms-alpha-api",children:"API Reference (Alpha)"})})," - Explore alpha version endpoints"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);